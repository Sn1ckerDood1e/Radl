---
phase: 14-design-system-foundation
plan: 04
type: execute
wave: 2
depends_on: ["14-01"]
files_modified:
  - src/app/globals.css
  - eslint.config.mjs
  - src/components/README.md
autonomous: true

must_haves:
  truths:
    - "Mobile touch targets are 44px minimum"
    - "Desktop touch targets remain compact"
    - "ESLint warns on @deprecated component usage"
    - "Component migration status is documented"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Mobile touch target CSS"
      contains: "@media (max-width: 768px)"
    - path: "eslint.config.mjs"
      provides: "Deprecation warning rule"
      contains: "no-deprecated"
    - path: "src/components/README.md"
      provides: "Component migration tracking"
      contains: "shadcn/ui"
  key_links:
    - from: "eslint.config.mjs"
      to: "@typescript-eslint"
      via: "no-deprecated rule"
      pattern: "@typescript-eslint/no-deprecated"
---

<objective>
Add mobile touch target enforcement and component migration tracking.

Purpose: Ensure WCAG accessibility on mobile and prevent component drift during migration.
Output: Mobile-only touch target CSS, ESLint deprecation warnings, component README documentation.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Phase-specific context
@.planning/phases/14-design-system-foundation/14-CONTEXT.md
@.planning/phases/14-design-system-foundation/14-RESEARCH.md

# Prior plan summary
@.planning/phases/14-design-system-foundation/14-01-SUMMARY.md

# Current files
@src/app/globals.css
@eslint.config.mjs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add mobile touch target CSS</name>
  <files>src/app/globals.css</files>
  <action>
Add mobile-responsive touch target styles to src/app/globals.css.

Add at the END of the file (after existing form input dark mode styles):

```css
/* Mobile touch targets - WCAG 2.5.5 compliance */
@media (max-width: 768px) {
  /* Buttons */
  button,
  [role="button"],
  .btn {
    min-height: 44px;
    min-width: 44px;
  }

  /* Form inputs */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  input[type="date"],
  input[type="time"],
  input[type="datetime-local"],
  select,
  textarea {
    min-height: 44px;
  }

  /* Icon-only buttons (like theme toggle) */
  button:has(> svg:only-child),
  [role="button"]:has(> svg:only-child) {
    width: 44px;
    height: 44px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Ensure links in navigation have adequate tap targets */
  nav a,
  header a {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
  }
}
```

IMPORTANT:
- Only applies to screens 768px and below (mobile/tablet)
- Desktop retains compact sizing for information density
- :has() selector is well-supported in modern browsers
  </action>
  <verify>
- Touch target CSS exists in globals.css
- CSS is wrapped in @media (max-width: 768px)
- Button min-height is 44px
- Input min-height is 44px
- npm run build passes (no CSS syntax errors)
  </verify>
  <done>Mobile touch targets enforce 44px minimum on interactive elements</done>
</task>

<task type="auto">
  <name>Task 2: Configure ESLint for deprecation warnings</name>
  <files>eslint.config.mjs</files>
  <action>
Update eslint.config.mjs to enable @typescript-eslint/no-deprecated rule.

The project uses ESLint 9 flat config. Add the rule to warn on deprecated component usage.

Update eslint.config.mjs:

```javascript
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
  // Component migration tracking
  {
    rules: {
      // Warn when using @deprecated components
      // Mark old components with JSDoc @deprecated tag during migration
      '@typescript-eslint/no-deprecated': 'warn',
    },
  },
]);

export default eslintConfig;
```

This rule uses TypeScript's built-in @deprecated JSDoc tag. When a component is deprecated:
```typescript
/**
 * @deprecated Use `Button` from `@/components/ui/button` instead.
 */
export function OldButton() { ... }
```

ESLint will warn when OldButton is imported or used.
  </action>
  <verify>
- eslint.config.mjs has '@typescript-eslint/no-deprecated': 'warn' rule
- npm run lint completes (may show existing deprecation warnings, that's OK)
  </verify>
  <done>ESLint configured to warn on @deprecated component usage</done>
</task>

<task type="auto">
  <name>Task 3: Create component migration tracking README</name>
  <files>src/components/README.md</files>
  <action>
Create src/components/README.md to document component migration status and guidelines:

```markdown
# Components Directory

## Design System

This project uses [shadcn/ui](https://ui.shadcn.com/) as its component library, built on:
- **Radix UI** - Accessible, unstyled primitives
- **Tailwind CSS v4** - Utility-first styling with CSS-first configuration
- **class-variance-authority** - Component variant management

## Directory Structure

```
components/
├── ui/                 # shadcn/ui components (source of truth)
│   ├── button.tsx
│   ├── dialog.tsx
│   ├── dropdown-menu.tsx
│   ├── input.tsx
│   ├── select.tsx
│   └── theme-toggle.tsx (custom, uses shadcn primitives)
├── providers/          # React context providers
├── layout/             # Layout components (header, nav)
└── [feature]/          # Feature-specific components
```

## Migration Status

### Completed (use from @/components/ui/)
- [x] Button - `@/components/ui/button`
- [x] Dialog - `@/components/ui/dialog`
- [x] DropdownMenu - `@/components/ui/dropdown-menu`
- [x] Input - `@/components/ui/input`
- [x] Select - `@/components/ui/select`

### Pending Migration
- [ ] Forms - migrate to shadcn Form pattern with react-hook-form
- [ ] Custom modals - migrate to shadcn Dialog
- [ ] Custom selects/dropdowns - migrate to shadcn Select/DropdownMenu

## Usage Guidelines

### For NEW components
Always use shadcn/ui components from `@/components/ui/`:
```tsx
import { Button } from '@/components/ui/button';
import { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';
```

### For EXISTING components
When touching existing code:
1. If >50% rewrite, migrate to shadcn/ui
2. If small fix, keep existing implementation
3. Mark deprecated components with JSDoc:
   ```typescript
   /**
    * @deprecated Use `Button` from `@/components/ui/button` instead.
    */
   export function OldButton() { ... }
   ```

### ESLint Deprecation Warnings
The `@typescript-eslint/no-deprecated` rule will warn when deprecated components are used.
Fix warnings by migrating imports to shadcn/ui equivalents.

## Theme Integration

shadcn/ui components use CSS variables mapped in `globals.css`:
- `--color-background`, `--color-foreground` - Page colors
- `--color-card`, `--color-popover` - Surface colors
- `--color-primary` - Team branding color (dynamic)
- `--color-destructive` - Error/delete actions

Dark/light mode is handled by the ThemeProvider in `providers/theme-provider.tsx`.

## Mobile Touch Targets

All interactive elements have 44px minimum touch targets on mobile (WCAG 2.5.5).
This is enforced globally in `globals.css` via media query - no per-component changes needed.

## Adding New shadcn/ui Components

```bash
npx shadcn@latest add [component-name]
```

Components are installed to `src/components/ui/` with full source code ownership.
```

  </action>
  <verify>
- src/components/README.md exists
- Documents shadcn/ui as design system
- Lists migration status for top 5 components
- Explains deprecation tagging pattern
- Documents theme variable integration
  </verify>
  <done>Component migration tracking documented in README</done>
</task>

</tasks>

<verification>
- [ ] Mobile touch target CSS in globals.css
- [ ] @media query targets max-width: 768px
- [ ] ESLint config has no-deprecated rule
- [ ] src/components/README.md exists
- [ ] README documents all 5 migrated components
- [ ] README explains @deprecated workflow
- [ ] npm run build passes
- [ ] npm run lint runs (warnings OK)
</verification>

<success_criteria>
Mobile touch targets enforce 44px minimum via CSS media query. ESLint warns on @deprecated component usage. Component migration status and guidelines documented in README.
</success_criteria>

<output>
After completion, create `.planning/phases/14-design-system-foundation/14-04-SUMMARY.md`
</output>
