---
phase: 32-safe-areas-branding
plan: 04
type: execute
wave: 2
depends_on: ["32-01", "32-02"]
files_modified:
  - src/components/layout/dashboard-header.tsx
autonomous: true

must_haves:
  truths:
    - "User sees 'Radl' branding in header (never 'Strokeline')"
    - "Header is ready to display crest when asset becomes available"
    - "No 'Strokeline' text appears anywhere in the UI"
  artifacts:
    - path: "src/components/layout/dashboard-header.tsx"
      provides: "Header with crest placeholder structure"
      contains: "Radl"
  key_links:
    - from: "src/components/layout/dashboard-header.tsx"
      to: "brand identity"
      via: "text and logo display"
      pattern: "Radl"
---

<objective>
Verify branding and add crest placeholder to header component.

Purpose: Ensure all user-visible text shows "Radl" branding and prepare header for crest integration when assets are available.

Output: Verified branding consistency and header ready for crest asset.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/32-safe-areas-branding/32-RESEARCH.md
@.planning/BRANDING.md

Key findings from research:
- Branding already shows "Radl" in manifest.json, layout.tsx, dashboard-header.tsx
- "Strokeline" only appears in .planning/ documentation files (historical, acceptable)
- No "Strokeline" in source code UI
- BRND-05 specifies "when asset is available" for crest - need placeholder approach
- Header should show shield-only crest (per BRANDING.md: "Shield only: App icons, small merch, profile pictures")
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify no Strokeline text in source code</name>
  <files>None (verification only)</files>
  <action>
Search for any "Strokeline" text in source code that would appear to users:

```bash
cd /home/hb/radl
grep -ri "strokeline" src/ --include="*.tsx" --include="*.ts"
```

Expected: No results (or only false positives like variable names)

If any user-visible "Strokeline" text is found:
1. Replace with "Radl"
2. Document the file and line changed

The following are acceptable and should NOT be changed:
- Files in .planning/ directory (historical documentation)
- Comments that reference migration from Strokeline
- Git history or changelogs
  </action>
  <verify>
Search returns no user-visible Strokeline: `grep -ri "strokeline" src/ --include="*.tsx" --include="*.ts" | grep -v "// " | wc -l` returns 0
  </verify>
  <done>
No "Strokeline" text appears in user-visible source code
  </done>
</task>

<task type="auto">
  <name>Task 2: Add crest placeholder to header</name>
  <files>src/components/layout/dashboard-header.tsx</files>
  <action>
Update the header component to include a placeholder for the crest that will be replaced when the brand asset is available.

Current header structure (line 64-69):
```tsx
<Link
  href={currentSlug ? `/${currentSlug}` : '/'}
  className="flex items-center"
>
  <span className="text-xl font-bold text-[var(--text-primary)]">Radl</span>
</Link>
```

Update to include crest placeholder:
```tsx
<Link
  href={currentSlug ? `/${currentSlug}` : '/'}
  className="flex items-center gap-2"
>
  {/* Crest placeholder - replace with <img src="/crest/radl-shield-color.svg" /> when available */}
  <div className="h-8 w-8 rounded bg-teal-600 flex items-center justify-center">
    <span className="text-white text-sm font-bold">R</span>
  </div>
  <span className="text-xl font-bold text-[var(--text-primary)]">Radl</span>
</Link>
```

This creates:
- A 32x32 teal rounded square with "R" as placeholder
- Comment documenting where to add actual crest
- Gap between crest and text
- Maintains accessibility (text "Radl" still present)

When brand assets are available (per BRANDING.md Asset Checklist), replace the div with:
```tsx
<img
  src="/crest/radl-shield-color.svg"
  alt="Radl"
  className="h-8 w-8"
/>
```
  </action>
  <verify>
Grep for placeholder: `grep -A3 "Crest placeholder" src/components/layout/dashboard-header.tsx` shows the comment and div structure
Build succeeds: `npm run build` passes
  </verify>
  <done>
Header displays teal "R" placeholder with comment for future crest integration
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify brand consistency across key pages</name>
  <files>None (verification only)</files>
  <action>
Search for brand references to ensure consistency:

1. Check page titles contain "Radl":
```bash
grep -r "title.*Radl" src/app/ --include="*.tsx" --include="*.ts"
```

2. Check no other brand names appear:
```bash
grep -ri "strokeline\|rowops\|crew manager" src/ --include="*.tsx" --include="*.ts"
```

3. Verify manifest and layout alignment:
```bash
grep "short_name" public/manifest.json
grep "title:" src/app/layout.tsx
```

Both should show "Radl"

If any inconsistencies found, fix them. Expected: All clear, branding already consistent.
  </action>
  <verify>
All brand checks pass:
- Manifest short_name is "Radl"
- Layout title contains "Radl"
- No competing brand names in source
  </verify>
  <done>
Brand consistency verified across manifest, layout, and all user-visible text
  </done>
</task>

</tasks>

<verification>
1. No "Strokeline" in user-visible source code
2. Header displays "R" placeholder in teal
3. Header has comment documenting crest replacement path
4. All brand references consistent with "Radl"
5. Build succeeds
</verification>

<success_criteria>
- BRND-01: App renamed from "Strokeline" to "Radl" throughout all UI text (verified)
- BRND-05: Crest/logo integrated in header when asset is available (placeholder ready, comment documents path)
</success_criteria>

<output>
After completion, create `.planning/phases/32-safe-areas-branding/32-04-SUMMARY.md`
</output>
