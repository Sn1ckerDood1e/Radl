---
phase: 16-ui-ux-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/skeleton.tsx
  - src/components/ui/empty-state.tsx
  - src/app/(dashboard)/[teamSlug]/roster/loading.tsx
  - src/app/(dashboard)/[teamSlug]/equipment/loading.tsx
  - src/app/(dashboard)/[teamSlug]/practices/loading.tsx
autonomous: true

must_haves:
  truths:
    - "List pages show skeleton placeholders during data loading"
    - "Empty lists display helpful guidance with action buttons"
    - "Skeleton dimensions match actual content layout (no visual shift)"
  artifacts:
    - path: "src/components/ui/skeleton.tsx"
      provides: "Reusable skeleton placeholder component"
      exports: ["Skeleton"]
    - path: "src/components/ui/empty-state.tsx"
      provides: "Reusable empty state component"
      exports: ["EmptyState"]
    - path: "src/app/(dashboard)/[teamSlug]/roster/loading.tsx"
      provides: "Roster page skeleton"
      exports: ["default"]
    - path: "src/app/(dashboard)/[teamSlug]/equipment/loading.tsx"
      provides: "Equipment page skeleton"
      exports: ["default"]
    - path: "src/app/(dashboard)/[teamSlug]/practices/loading.tsx"
      provides: "Practices page skeleton"
      exports: ["default"]
  key_links:
    - from: "loading.tsx files"
      to: "src/components/ui/skeleton.tsx"
      via: "import"
      pattern: "import.*Skeleton.*from"
---

<objective>
Create foundation components for loading and empty states.

Purpose: UIX-02 (empty states) and UIX-03 (loading states) require reusable components that can be applied consistently across the application. This plan establishes the foundation.

Output: Skeleton component, EmptyState component, and loading.tsx files for main list pages.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/16-ui-ux-polish/16-CONTEXT.md
@.planning/phases/16-ui-ux-polish/16-RESEARCH.md

Reference existing UI components:
@src/components/ui/button.tsx
@src/components/ui/dialog.tsx

Reference existing page structure for skeleton dimensions:
@src/app/(dashboard)/[teamSlug]/roster/page.tsx
@src/app/(dashboard)/[teamSlug]/equipment/page.tsx
@src/app/(dashboard)/[teamSlug]/practices/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add shadcn skeleton and create EmptyState component</name>
  <files>
    src/components/ui/skeleton.tsx
    src/components/ui/empty-state.tsx
  </files>
  <action>
1. Add shadcn skeleton component:
   ```bash
   pnpm dlx shadcn@latest add skeleton
   ```
   This creates `src/components/ui/skeleton.tsx` with pulse animation.

2. Create EmptyState component at `src/components/ui/empty-state.tsx`:
   - Props: icon (LucideIcon), title (string), description (string), action? ({ label, href?, onClick? })
   - Layout: Centered flex column with icon in rounded circle, title, description, optional action button
   - Styling: Use existing color palette (bg-zinc-800 for icon background, text-zinc-500 for icon, text-white for title, text-zinc-500 for description)
   - Action button: Use shadcn Button, support both href (asChild with Link) and onClick patterns
   - Icon circle: h-16 w-16, rounded-full, bg-zinc-800, flex items-center justify-center, mb-4
   - Container: py-12 px-4, text-center, flex flex-col items-center justify-center

Example structure:
```tsx
interface EmptyStateProps {
  icon: LucideIcon;
  title: string;
  description: string;
  action?: {
    label: string;
    href?: string;
    onClick?: () => void;
  };
}
```
  </action>
  <verify>
    - `cat src/components/ui/skeleton.tsx` shows component with animate-pulse class
    - `cat src/components/ui/empty-state.tsx` exports EmptyState component
    - `pnpm tsc --noEmit` passes
  </verify>
  <done>
    Skeleton component installed, EmptyState component created with icon, title, description, and optional action button support.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create loading.tsx files for main list pages</name>
  <files>
    src/app/(dashboard)/[teamSlug]/roster/loading.tsx
    src/app/(dashboard)/[teamSlug]/equipment/loading.tsx
    src/app/(dashboard)/[teamSlug]/practices/loading.tsx
  </files>
  <action>
Create Next.js loading.tsx files that mirror actual page layouts:

1. **roster/loading.tsx:**
   - Header: Skeleton h-5 w-5 (back arrow), Skeleton h-8 w-32 (title), Skeleton h-5 w-48 (subtitle)
   - Team code section: Skeleton card similar to existing bg-zinc-900 rounded-xl p-6
   - Member list: 5 rows with h-12 w-12 rounded-full avatar skeleton + two text lines (h-4 w-[200px] and h-3 w-[150px])

2. **equipment/loading.tsx:**
   - Header: Same pattern as roster (back arrow, title, subtitle), plus Skeleton h-9 w-32 (Add Equipment button)
   - Usage summary: Skeleton card matching EquipmentUsageSummary dimensions
   - Equipment grid: 6 cards in grid layout, each with type badge, name line, details line

3. **practices/loading.tsx:**
   - Header: Back arrow, title, subtitle, New Practice button skeleton
   - Practice list: 5 rows with bg-zinc-900 card styling, name + status badge line, date/time line, block type badges

All files:
- Import Skeleton from "@/components/ui/skeleton"
- Use exact same container widths as actual pages (max-w-5xl, max-w-6xl, max-w-4xl)
- Match padding and spacing (mb-8 headers, gap-3 lists)
- Export default function with descriptive name (RosterLoading, EquipmentLoading, PracticesLoading)
  </action>
  <verify>
    - `ls src/app/(dashboard)/[teamSlug]/roster/loading.tsx` exists
    - `ls src/app/(dashboard)/[teamSlug]/equipment/loading.tsx` exists
    - `ls src/app/(dashboard)/[teamSlug]/practices/loading.tsx` exists
    - `pnpm tsc --noEmit` passes
    - Navigate to each page in browser and observe skeleton during refresh
  </verify>
  <done>
    loading.tsx files created for roster, equipment, and practices pages. Skeletons mirror actual content layout to prevent visual shift.
  </done>
</task>

<task type="auto">
  <name>Task 3: Apply EmptyState to existing list pages</name>
  <files>
    src/app/(dashboard)/[teamSlug]/roster/page.tsx
    src/app/(dashboard)/[teamSlug]/equipment/page.tsx
    src/app/(dashboard)/[teamSlug]/practices/page.tsx
    src/app/(dashboard)/[teamSlug]/lineup-templates/page.tsx
    src/app/(dashboard)/[teamSlug]/practice-templates/page.tsx
    src/app/(dashboard)/[teamSlug]/regattas/page.tsx
  </files>
  <action>
Replace inline empty state JSX with EmptyState component in each list page:

1. **roster/page.tsx:**
   - Replace the empty state div (lines ~229-253) with:
     ```tsx
     <EmptyState
       icon={Users}
       title="No team members yet"
       description="Invite your first athlete or coach to get started."
     />
     ```
   - Add import: `import { EmptyState } from '@/components/ui/empty-state';`
   - Add import: `import { Users } from 'lucide-react';`

2. **equipment/page.tsx:**
   - Need to check if empty state exists, add one if not using:
     ```tsx
     <EmptyState
       icon={Ship}
       title="No equipment yet"
       description="Add your first shell, oars, or launch to get started."
       action={isCoach ? { label: "Add Equipment", href: `/${teamSlug}/equipment/new` } : undefined}
     />
     ```

3. **practices/page.tsx:**
   - Replace existing empty state with:
     ```tsx
     <EmptyState
       icon={Calendar}
       title="No practices yet"
       description={isCoach ? "Create your first practice to get started." : "No practices have been published yet."}
       action={isCoach && seasons.length > 0 ? { label: "New Practice", href: `/${teamSlug}/practices/new` } : undefined}
     />
     ```

4. **lineup-templates/page.tsx:**
   - Replace with EmptyState using Users icon

5. **practice-templates/page.tsx:**
   - Replace with EmptyState using FileText icon, add action button for coaches

6. **regattas/page.tsx:**
   - Add EmptyState with Trophy icon

Choose icons that match the content:
- Roster: Users
- Equipment: Ship (or Box if Ship unavailable)
- Practices: Calendar
- Lineup Templates: Users
- Practice Templates: FileText
- Regattas: Trophy
  </action>
  <verify>
    - `pnpm tsc --noEmit` passes
    - Each page renders EmptyState when data is empty
    - Action buttons navigate to correct creation pages
  </verify>
  <done>
    All list pages use consistent EmptyState component with appropriate icons, messages, and action buttons.
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles without errors: `pnpm tsc --noEmit`
2. All loading.tsx files import from Skeleton component
3. All list pages import EmptyState component
4. Manual verification: Navigate to each page with empty data to see empty states
5. Manual verification: Hard refresh pages to see skeleton loading states
</verification>

<success_criteria>
- Skeleton component available at src/components/ui/skeleton.tsx
- EmptyState component available at src/components/ui/empty-state.tsx
- Roster, Equipment, Practices pages have loading.tsx skeletons
- All 6 list pages use EmptyState component with appropriate icons and messages
- No TypeScript errors
- No visual layout shift when content loads (skeletons match content dimensions)
</success_criteria>

<output>
After completion, create `.planning/phases/16-ui-ux-polish/16-01-SUMMARY.md`
</output>
