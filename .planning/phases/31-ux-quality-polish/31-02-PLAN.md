---
phase: 31-ux-quality-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/validations/auth.ts
  - src/app/(dashboard)/[teamSlug]/notifications/page.tsx
autonomous: true

must_haves:
  truths:
    - "Auth validation errors tell users exactly what's wrong and how to fix it"
    - "Notifications page shows helpful empty state with guidance when no notifications exist"
  artifacts:
    - path: "src/lib/validations/auth.ts"
      provides: "Actionable validation error messages"
      contains: "e.g.,"
    - path: "src/app/(dashboard)/[teamSlug]/notifications/page.tsx"
      provides: "EmptyState component for notifications"
      contains: "EmptyState"
  key_links:
    - from: "auth.ts Zod schemas"
      to: "form error display"
      via: "error message strings"
      pattern: "Please enter"
    - from: "notifications/page.tsx"
      to: "EmptyState component"
      via: "import and usage"
      pattern: "import.*EmptyState"
---

<objective>
Improve error message clarity and add proper empty state guidance to the notifications page.

Purpose: Error messages should tell users what's wrong AND how to fix it (UXQL-01). Empty states should guide users to their next action (UXQL-02). Currently auth validation messages are generic ("Invalid email address") and notifications page shows minimal empty state without guidance.

Output: Auth validation schemas have actionable error messages, notifications page uses EmptyState component with appropriate messaging.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/31-ux-quality-polish/31-RESEARCH.md

# Files to modify
@src/lib/validations/auth.ts
@src/app/(dashboard)/[teamSlug]/notifications/page.tsx

# Reference for EmptyState
@src/components/ui/empty-state.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update auth validation error messages to be actionable</name>
  <files>src/lib/validations/auth.ts</files>
  <action>
Replace the current generic validation messages with actionable ones that explain the problem and how to fix it.

**Replace entire file content with:**
```typescript
import { z } from 'zod';

export const loginSchema = z.object({
  email: z.string()
    .min(1, 'Email is required')
    .email('Please enter a valid email address (e.g., you@example.com)'),
  password: z.string()
    .min(1, 'Password is required'),
});

export const signupSchema = z.object({
  email: z.string()
    .min(1, 'Email is required')
    .email('Please enter a valid email address (e.g., you@example.com)'),
  password: z.string()
    .min(1, 'Password is required')
    .min(8, 'Password must be at least 8 characters'),
  confirmPassword: z.string()
    .min(1, 'Please confirm your password'),
}).refine((data) => data.password === data.confirmPassword, {
  message: "Passwords don't match. Please re-enter your password.",
  path: ["confirmPassword"],
});

export type LoginInput = z.infer<typeof loginSchema>;
export type SignupInput = z.infer<typeof signupSchema>;
```

Key improvements:
- Added explicit "required" checks with clear messages
- Email validation now includes example format: "(e.g., you@example.com)"
- Confirm password message is more helpful when passwords don't match
- Messages follow pattern: what's wrong + how to fix
  </action>
  <verify>
1. `grep "e.g.," src/lib/validations/auth.ts` returns matches for email validation
2. `grep "required" src/lib/validations/auth.ts` returns matches for required field messages
3. `npm run build` succeeds (no type errors)
  </verify>
  <done>
Auth validation error messages are actionable with clear guidance on how to fix each issue.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add proper EmptyState to notifications page</name>
  <files>src/app/(dashboard)/[teamSlug]/notifications/page.tsx</files>
  <action>
Replace the basic empty state div with the proper EmptyState component for consistency and better UX.

**Add import at top of file (after existing imports around line 4):**
```typescript
import { EmptyState } from '@/components/ui/empty-state';
import { Bell } from 'lucide-react';
```

**Replace the empty state block (lines 145-161)** from:
```tsx
<div className="bg-white rounded-lg border border-gray-200 p-8 text-center">
  <svg
    className="mx-auto h-12 w-12 text-gray-400"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
    />
  </svg>
  <p className="mt-4 text-gray-500">No notifications</p>
</div>
```

**To:**
```tsx
<EmptyState
  icon={Bell}
  title="You're all caught up"
  description="When there's team activity like new announcements, practice updates, or damage reports, you'll see notifications here."
/>
```

Note: No action button is needed because there's no user action to take - notifications come from team activity. The message reassures users this is normal and explains what would create notifications.
  </action>
  <verify>
1. `grep -n "import { EmptyState }" src/app/\(dashboard\)/\[teamSlug\]/notifications/page.tsx` returns a match
2. `grep -n "import { Bell }" src/app/\(dashboard\)/\[teamSlug\]/notifications/page.tsx` returns a match
3. `grep -n "You're all caught up" src/app/\(dashboard\)/\[teamSlug\]/notifications/page.tsx` returns a match
4. `npm run build` succeeds
  </verify>
  <done>
Notifications page shows proper EmptyState component with helpful messaging when there are no notifications.
  </done>
</task>

</tasks>

<verification>
After all tasks:
1. `npm run build` succeeds
2. Auth validation messages include actionable guidance with examples
3. Notifications empty state uses EmptyState component with clear messaging
</verification>

<success_criteria>
- Login/signup validation errors tell users exactly what format is expected
- Notifications page empty state looks consistent with other pages
- Notifications empty state message explains what would trigger notifications
- No build or TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/31-ux-quality-polish/31-02-SUMMARY.md`
</output>
