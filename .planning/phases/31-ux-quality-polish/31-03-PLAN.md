---
phase: 31-ux-quality-polish
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/(dashboard)/[teamSlug]/settings/page.tsx
autonomous: true

must_haves:
  truths:
    - "Settings page does not show Team Colors section (feature is deferred)"
    - "Settings page remains functional without the removed section"
  artifacts:
    - path: "src/app/(dashboard)/[teamSlug]/settings/page.tsx"
      provides: "Settings page without Team Colors section"
  key_links:
    - from: "settings/page.tsx"
      to: "user interface"
      via: "removed Team Colors JSX"
      pattern: "Equipment Readiness"
---

<objective>
Remove the unused Team Colors section from the settings page to reduce user confusion.

Purpose: The Team Colors feature is marked as deferred in tech debt (dynamic team colors - color settings stored in DB but UI uses fixed emerald colors). Showing a color picker that doesn't affect anything confuses users (UXQL-05). Remove this section until the feature is fully implemented.

Output: Settings page without the Team Colors section, resulting in a cleaner, more focused settings experience.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/31-ux-quality-polish/31-RESEARCH.md

# File to modify
@src/app/(dashboard)/[teamSlug]/settings/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove Team Colors section from settings page</name>
  <files>src/app/(dashboard)/[teamSlug]/settings/page.tsx</files>
  <action>
Remove the Team Colors section and its related state/functions to clean up the settings page.

**Remove these state declarations (around lines 37-44, 63-65):**
```typescript
const [savingColors, setSavingColors] = useState(false);
const [colorSuccess, setColorSuccess] = useState(false);

const [teamInfo, setTeamInfo] = useState<TeamInfo>({ name: '', primaryColor: '#1a365d', secondaryColor: '#e2e8f0' });
const [primaryColor, setPrimaryColor] = useState('#1a365d');
const [secondaryColor, setSecondaryColor] = useState('#e2e8f0');
```

**Keep the teamInfo state but simplify (still needed for team name display):**
```typescript
const [teamInfo, setTeamInfo] = useState<TeamInfo>({ name: '', primaryColor: '', secondaryColor: '' });
```

**Remove the handleSaveColors function (lines 149-177)** entirely.

**Remove the hasColorChanges function (lines 188-190)** entirely.

**Remove from fetchSettings (around lines 93-97):**
```typescript
if (data.team) {
  setTeamInfo(data.team);
  setPrimaryColor(data.team.primaryColor);
  setSecondaryColor(data.team.secondaryColor);
}
```

**Replace with simpler version:**
```typescript
if (data.team) {
  setTeamInfo(data.team);
}
```

**Remove the entire Team Colors Section JSX (lines 318-410)** - this is the entire `<div className="bg-zinc-900 rounded-xl border border-zinc-800 p-6 mb-6">` block that contains "Team Colors" heading through the "Save Colors" button.

**Also remove the TeamInfo interface** if it's only used for colors (check if teamInfo.name is used elsewhere - it is, in the Equipment Readiness preview, so keep the interface but it can stay as-is since those fields will just be empty/unused).

The first section after the header should now be "Equipment Readiness Thresholds".
  </action>
  <verify>
1. `grep -n "Team Colors" src/app/\(dashboard\)/\[teamSlug\]/settings/page.tsx` returns NO matches
2. `grep -n "handleSaveColors" src/app/\(dashboard\)/\[teamSlug\]/settings/page.tsx` returns NO matches
3. `grep -n "primaryColor" src/app/\(dashboard\)/\[teamSlug\]/settings/page.tsx` returns NO matches (or only in interface definition)
4. `npm run build` succeeds
5. The first settings section visible should be "Equipment Readiness Thresholds"
  </verify>
  <done>
Settings page no longer shows the non-functional Team Colors section. The page is cleaner and only shows settings that actually work.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify mobile touch targets</name>
  <files></files>
  <action>
Verify that the existing CSS touch target rules in globals.css are working correctly for UXQL-03 compliance.

**Check globals.css for the touch target CSS rule:**
The research confirmed this CSS exists:
```css
@media (max-width: 768px) {
  button:has(> svg:only-child),
  [role="button"]:has(> svg:only-child) {
    width: 44px;
    height: 44px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}
```

**Verify the rule is present** by checking the file. This is a verification task - no changes needed if the rule exists.

If the rule is missing for some reason, add it to the mobile section of globals.css.

The 44px minimum meets WCAG 2.5.5 Target Size requirements.
  </action>
  <verify>
1. `grep -n "44px" src/app/globals.css` returns matches confirming touch target rules exist
2. `grep -n "svg:only-child" src/app/globals.css` returns matches confirming the selector targets icon-only buttons
  </verify>
  <done>
Mobile touch targets are confirmed to meet 44px accessibility minimum via existing CSS rules. UXQL-03 requirement is satisfied by existing implementation.
  </done>
</task>

</tasks>

<verification>
After all tasks:
1. `npm run build` succeeds
2. Settings page loads without Team Colors section
3. Mobile touch target CSS rules confirmed present in globals.css
4. Manual verification: Visit settings page - first section should be "Equipment Readiness Thresholds"
</verification>

<success_criteria>
- Settings page does not display Team Colors section
- Settings page remains fully functional (other settings work)
- Mobile touch target CSS rules verified present (44px minimum)
- No build or TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/31-ux-quality-polish/31-03-SUMMARY.md`
</output>
