---
phase: 23-dashboard-enhancements
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/dashboard/todays-schedule-widget.tsx
  - src/components/dashboard/quick-actions-widget.tsx
autonomous: true

must_haves:
  truths:
    - "Today's Schedule widget shows all today's practices with time and athlete counts"
    - "Quick Actions widget shows context-aware attention items with counts"
    - "Empty states handled gracefully (show next practice or helpful message)"
  artifacts:
    - path: "src/components/dashboard/todays-schedule-widget.tsx"
      provides: "Hero widget showing today's schedule for coaches"
      exports: ["TodaysScheduleWidget"]
    - path: "src/components/dashboard/quick-actions-widget.tsx"
      provides: "Context-aware quick actions for coaches"
      exports: ["QuickActionsWidget"]
  key_links:
    - from: "src/components/dashboard/todays-schedule-widget.tsx"
      to: "Practice data"
      via: "props from page"
      pattern: "practices.*map"
    - from: "src/components/dashboard/quick-actions-widget.tsx"
      to: "Attention items"
      via: "props from page"
      pattern: "items.*map"
---

<objective>
Create the coach-specific dashboard widgets: Today's Schedule hero widget and Quick Actions widget.

Purpose: These are the primary widgets for the coach dashboard - surfacing immediate schedule and attention-needed items.
Output: Two display components ready to be composed into CoachDashboard.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/23-dashboard-enhancements/23-CONTEXT.md
@.planning/phases/23-dashboard-enhancements/23-RESEARCH.md
@src/components/equipment/fleet-health-widget.tsx (widget card pattern)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TodaysScheduleWidget</name>
  <files>src/components/dashboard/todays-schedule-widget.tsx</files>
  <action>
Create the hero widget for Today's Schedule following the existing widget card pattern from fleet-health-widget.tsx.

Props:
```typescript
interface TodaysScheduleWidgetProps {
  teamSlug: string;
  practices: Array<{
    id: string;
    name: string;
    startTime: Date;
    endTime: Date;
    athleteCount: number;
    blockCount: number;
  }>;
  nextPractice?: {
    id: string;
    name: string;
    date: Date;
    startTime: Date;
  } | null;
}
```

Requirements:
- Use existing widget card structure: bg-[var(--surface-1)], rounded-xl, border-subtle
- Header: "Today's Schedule" with "View all" link to /${teamSlug}/practices
- If practices array has items:
  - Show each practice as a row with time, name, and athlete count badge
  - Time format: "6:00 AM - 8:00 AM" using toLocaleTimeString
  - Click row links to /${teamSlug}/practices/${practice.id}
  - Show block count if > 0 (e.g., "3 blocks")
- If no practices today but nextPractice provided:
  - Show "No practices today" message
  - Show next practice card with date and countdown (e.g., "Friday at 6:00 AM")
  - Use relative format: "Tomorrow", "Friday", or date
- If no practices at all:
  - Show empty state with "No upcoming practices" and link to create

Use lucide-react icons: Calendar, Clock, Users
  </action>
  <verify>
`npx tsc --noEmit` passes with no type errors.
  </verify>
  <done>
TodaysScheduleWidget displays today's practices with times and counts, handles empty state with next practice fallback.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create QuickActionsWidget</name>
  <files>src/components/dashboard/quick-actions-widget.tsx</files>
  <action>
Create context-aware Quick Actions widget showing attention-needed items.

Props:
```typescript
interface AttentionItem {
  type: 'equipment_inspection' | 'lineup_needed' | 'practice_unpublished';
  count: number;
  label: string;
  href: string;
}

interface QuickActionsWidgetProps {
  teamSlug: string;
  items: AttentionItem[];
}
```

Requirements:
- Use widget card structure matching other widgets
- Header: "Needs Attention" (no "View all" link since items link directly)
- If items array has items:
  - Render each as a clickable row with icon, label, and chevron
  - Icon based on type:
    - equipment_inspection: AlertTriangle (amber)
    - lineup_needed: Users (blue)
    - practice_unpublished: FileEdit (purple)
  - Label already includes count (e.g., "3 boats need inspection")
  - Click navigates to href
- If no items:
  - Show success state: "All caught up!" with check circle icon (emerald)
  - Maybe add secondary text: "No items need attention"

Use lucide-react icons: AlertTriangle, Users, FileEdit, ChevronRight, CheckCircle2
  </action>
  <verify>
`npx tsc --noEmit` passes with no type errors.
  </verify>
  <done>
QuickActionsWidget displays attention items or "all caught up" state.
  </done>
</task>

</tasks>

<verification>
- Both components exist and export correctly
- TypeScript compilation succeeds: `npx tsc --noEmit`
- TodaysScheduleWidget handles: multiple practices, single practice, no practices with fallback, no practices at all
- QuickActionsWidget handles: multiple items, single item, no items (success state)
</verification>

<success_criteria>
- TodaysScheduleWidget renders today's practices with time, name, athlete count
- TodaysScheduleWidget shows next practice when no practices today
- QuickActionsWidget renders attention items with appropriate icons
- QuickActionsWidget shows "all caught up" when no items
</success_criteria>

<output>
After completion, create `.planning/phases/23-dashboard-enhancements/23-02-SUMMARY.md`
</output>
