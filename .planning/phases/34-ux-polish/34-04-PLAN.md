---
phase: 34-ux-polish
plan: 04
type: execute
wave: 3
depends_on:
  - "34-01"
files_modified:
  - src/app/(dashboard)/[teamSlug]/roster/page.tsx
  - src/app/(dashboard)/[teamSlug]/equipment/page.tsx
  - src/app/(dashboard)/[teamSlug]/practices/page.tsx
  - src/app/(dashboard)/[teamSlug]/notifications/page.tsx
autonomous: true

must_haves:
  truths:
    - "All major list views show contextual empty states"
    - "Empty states include clear call-to-action guiding user to next step"
    - "Appropriate variant (informational/celebration/error) used for each context"
  artifacts:
    - path: "audit-document"
      provides: "Empty state coverage audit"
      min_pages: 8
  key_links:
    - from: "list pages"
      to: "src/components/ui/empty-state.tsx"
      via: "import { EmptyState }"
      pattern: "EmptyState.*variant"
---

<objective>
Audit and polish empty states across all major list views to ensure contextual messaging and appropriate use of variants.

Purpose: Implements EMPT-02 (all major list views have contextual empty states) and EMPT-03 (empty states include clear CTA). Uses variants from 34-01.

Output:
- Audit of all list pages for empty state coverage
- Updated messaging to be more contextual and helpful
- Celebration variant applied where appropriate (e.g., "all caught up" states)
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/34-ux-polish/34-RESEARCH.md
@.planning/phases/34-ux-polish/34-01-SUMMARY.md

# EmptyState component with variants
@src/components/ui/empty-state.tsx

# Pages to audit
@src/app/(dashboard)/[teamSlug]/roster/page.tsx
@src/app/(dashboard)/[teamSlug]/equipment/page.tsx
@src/app/(dashboard)/[teamSlug]/practices/page.tsx
@src/app/(dashboard)/[teamSlug]/notifications/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit empty state coverage</name>
  <files>audit-only</files>
  <action>
Audit all list views to document current empty state coverage.

Pages to check (search for EmptyState usage):
```bash
grep -r "EmptyState" src/app --include="*.tsx" -l
grep -r "<EmptyState" src/app --include="*.tsx" -A 5
```

For each page, document:
1. Does it have an empty state?
2. What icon, title, description is used?
3. Does it have a CTA (action prop)?
4. Is the CTA appropriate for the user's role?
5. Could it use celebration variant? (e.g., "no pending invitations")

Expected pages to audit:
- /[teamSlug]/roster - empty roster
- /[teamSlug]/equipment - empty equipment
- /[teamSlug]/practices - empty practices
- /[teamSlug]/regattas - empty regattas
- /[teamSlug]/schedule - empty schedule
- /[teamSlug]/notifications - no notifications (celebration candidate)
- /[teamSlug]/invitations - no pending invitations (celebration candidate)
- /facility/[facilitySlug]/* pages

Create audit table:
| Page | Has EmptyState | Has CTA | Variant Suggestion |
|------|----------------|---------|-------------------|
| roster | Yes | Yes (Invite) | informational |
| notifications | Yes | No | celebration |
| ... | ... | ... | ... |
  </action>
  <verify>
1. Audit table created
2. All list pages reviewed
3. Gaps and improvement opportunities identified
  </verify>
  <done>
Audit complete with table showing coverage, CTA presence, and variant suggestions for each list page.
  </done>
</task>

<task type="auto">
  <name>Task 2: Apply celebration variant to "all caught up" states</name>
  <files>
src/app/(dashboard)/[teamSlug]/notifications/page.tsx
src/app/(dashboard)/[teamSlug]/invitations/invitations-client.tsx
  </files>
  <action>
Update empty states that represent "all done" or "nothing pending" to use the celebration variant.

Candidates:
1. Notifications page - "No new notifications" = celebration (you're all caught up!)
2. Invitations page (if empty after having had some) = celebration

For notifications page:
```tsx
<EmptyState
  icon={Bell}
  title="All caught up!"
  description="You have no new notifications."
  variant="celebration"
/>
```

For invitations page (when no pending invitations):
```tsx
<EmptyState
  icon={CheckCircle}
  title="All invitations handled"
  description="You've reviewed all pending invitations."
  variant="celebration"
/>
```

Read each file first to understand current implementation, then update:
1. Add variant="celebration" prop
2. Optionally update title to be more positive ("All caught up!" vs "No notifications")
3. Ensure icon is appropriate (Bell, CheckCircle, etc.)
  </action>
  <verify>
1. Notifications page uses variant="celebration"
2. Invitations page uses variant="celebration" for empty state
3. TypeScript compiles without errors
  </verify>
  <done>
Celebration variant applied to notifications and invitations empty states. Messaging updated to be positive ("All caught up!").
  </done>
</task>

<task type="auto">
  <name>Task 3: Ensure CTAs guide users to next step</name>
  <files>
src/app/(dashboard)/[teamSlug]/roster/page.tsx
src/app/(dashboard)/[teamSlug]/equipment/page.tsx
src/app/(dashboard)/[teamSlug]/practices/page.tsx
  </files>
  <action>
Verify and update empty state CTAs to clearly guide users to their next step.

For each major list view, ensure:
1. Empty state has an action prop with clear label
2. Action label uses actionable verb ("Add Equipment", "Invite Member", "Create Practice")
3. Link/onClick goes to the correct creation flow
4. CTA is appropriate for user role (coach sees "Add", athlete may not)

Check current implementations:

Roster empty state should have:
- title: "No team members yet"
- description: "Invite your first athlete or coach to get started."
- action: { label: "Invite Member", href: `/${teamSlug}/invitations` }

Equipment empty state should have:
- title: "No equipment yet"
- description: "Add your first boat, oar, or other equipment."
- action: { label: "Add Equipment", href: `/${teamSlug}/equipment/new` }

Practices empty state should have:
- title: "No practices scheduled"
- description: "Create your first practice to start planning."
- action: { label: "Create Practice", href: `/${teamSlug}/practices/new` }

Read each file, verify or update the empty state to match these patterns.
Note: If CTA visibility depends on role (coach only), document this but don't change the logic.
  </action>
  <verify>
1. Roster page empty state has "Invite Member" CTA
2. Equipment page empty state has "Add Equipment" CTA
3. Practices page empty state has "Create Practice" CTA
4. All CTAs link to correct routes
  </verify>
  <done>
All major list views have contextual empty states with clear CTAs guiding users to the next step.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. TypeScript compiles: `npx tsc --noEmit`
2. Dev server starts without errors: `npm run dev`
3. Manually verify empty states render correctly:
   - Visit /[teamSlug]/notifications (should show celebration variant)
   - Create a new team with no members (roster should show informational with CTA)
</verification>

<success_criteria>
1. All major list views have empty states (EMPT-02)
2. Empty states include clear CTAs (EMPT-03)
3. Celebration variant used for "all caught up" states (EMPT-01)
4. Informational variant used for first-time empty states
5. Error variant available for fetch failures (documented)
</success_criteria>

<output>
After completion, create `.planning/phases/34-ux-polish/34-04-SUMMARY.md`

Include:
- Audit table with all list pages and their empty state status
- Changes made to each page
- Variant usage summary
- Any pages that still need work (if any)
</output>
