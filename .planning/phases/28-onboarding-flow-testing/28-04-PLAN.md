---
phase: 28-onboarding-flow-testing
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/(dashboard)/[teamSlug]/equipment/page.tsx
autonomous: true
requirements:
  - ONBD-06

must_haves:
  truths:
    - "Empty equipment page shows helpful empty state with CTA"
    - "Empty state guides coach to add first equipment"
    - "Empty state follows established pattern from roster page"
  artifacts:
    - path: "src/app/(dashboard)/[teamSlug]/equipment/page.tsx"
      provides: "Equipment page with empty state"
      contains: "EmptyState"
  key_links:
    - from: "src/app/(dashboard)/[teamSlug]/equipment/page.tsx"
      to: "@/components/ui/empty-state"
      via: "import and conditional render"
      pattern: "equipment.length === 0"
---

<objective>
Add empty state to equipment page for consistent onboarding experience

Purpose: The equipment page currently shows the usage summary section even when there's no equipment, which is confusing for new teams. Adding an empty state provides clear guidance for coaches to add their first equipment.

Output: Equipment page that displays a helpful empty state when no equipment exists.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/28-onboarding-flow-testing/28-RESEARCH.md

# Current implementation
@src/app/(dashboard)/[teamSlug]/equipment/page.tsx
@src/components/ui/empty-state.tsx

# Pattern reference
@src/app/(dashboard)/[teamSlug]/roster/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add empty state to equipment page</name>
  <files>src/app/(dashboard)/[teamSlug]/equipment/page.tsx</files>
  <action>
Add an empty state to the equipment page following the pattern established on the roster page.

Changes needed:
1. Import EmptyState component and appropriate icon (Anchor or Ship from lucide-react)
2. Conditionally render EmptyState when equipment.length === 0
3. Hide EquipmentUsageSummary when no equipment (it shows empty data otherwise)
4. Provide CTA to add first equipment (for coaches only)

Implementation:
```tsx
import { EmptyState } from '@/components/ui/empty-state';
import { Anchor } from 'lucide-react'; // or Ship, Sailboat

// ... existing code ...

return (
  <div className="max-w-6xl mx-auto">
    {/* Header section - keep as is */}
    <div className="flex items-center justify-between mb-8">
      {/* ... existing header ... */}
    </div>

    {equipment.length === 0 ? (
      <div className="bg-zinc-900 rounded-xl border border-zinc-800">
        <EmptyState
          icon={Anchor}
          title="No equipment yet"
          description={isCoach
            ? "Add your team's shells, oars, and launches to start tracking equipment usage and maintenance."
            : "Your team hasn't added any equipment yet."
          }
          action={isCoach ? {
            label: "Add Equipment",
            href: `/${teamSlug}/equipment/new`,
          } : undefined}
        />
      </div>
    ) : (
      <>
        <EquipmentUsageSummary
          mostUsed={mostUsed}
          recentUsage={recentUsage}
          teamSlug={teamSlug}
        />

        <EquipmentListClient
          equipment={equipmentWithReadiness.map(e => ({
            // ... existing mapping ...
          }))}
          teamSlug={teamSlug}
          isCoach={isCoach}
        />
      </>
    )}
  </div>
);
```

The empty state should:
- Use Anchor icon (rowing/boating related)
- Have coach-specific description with clear value proposition
- Have athlete-specific description (no action available)
- CTA button for coaches linking to equipment/new
- Follow same styling as roster page empty state
  </action>
  <verify>
1. Create new team (or delete all equipment from existing team)
2. Visit /{teamSlug}/equipment
3. Should see empty state with Anchor icon
4. As coach: Should see "Add Equipment" button
5. As athlete: Should see description only, no button
6. Click "Add Equipment" - should go to /{teamSlug}/equipment/new
  </verify>
  <done>Equipment page shows helpful empty state when no equipment exists</done>
</task>

<task type="auto">
  <name>Task 2: Add onboarding hint for new coaches</name>
  <files>src/app/(dashboard)/[teamSlug]/equipment/page.tsx</files>
  <action>
Add an optional onboarding banner for coaches similar to the roster page's invite prompt.

When:
- Equipment count is 0 or very low (1-2)
- User is coach

Show a gradient banner above the equipment list prompting them to add equipment:

```tsx
{isCoach && equipment.length > 0 && equipment.length <= 2 && (
  <Link
    href={`/${teamSlug}/equipment/new`}
    className="block mb-6 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 border border-emerald-500/30 rounded-xl p-4 hover:border-emerald-500/50 transition-colors group"
  >
    <div className="flex items-center gap-4">
      <div className="h-12 w-12 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0">
        <Anchor className="h-6 w-6 text-emerald-400" />
      </div>
      <div className="flex-1">
        <h3 className="font-semibold text-emerald-200">
          Add more equipment
        </h3>
        <p className="text-sm text-emerald-300/70">
          Track all your shells, oars, and launches for better fleet management
        </p>
      </div>
      <ChevronRight className="h-5 w-5 text-emerald-400 group-hover:translate-x-1 transition-transform" />
    </div>
  </Link>
)}
```

This provides gentle guidance to complete their equipment inventory without being intrusive.
  </action>
  <verify>
1. As coach with 1-2 equipment items, see the onboarding banner
2. Banner links to equipment/new
3. With 3+ equipment items, banner is hidden
4. As athlete, banner is never shown
  </verify>
  <done>New coaches see gentle prompt to add more equipment when inventory is sparse</done>
</task>

</tasks>

<verification>
## Empty state verification

1. New team with 0 equipment:
   - Empty state shown with Anchor icon
   - Title: "No equipment yet"
   - Coach sees "Add Equipment" button
   - Athlete sees description only
   - Usage summary NOT shown (no confusing empty charts)

2. Button functionality:
   - Click "Add Equipment" -> navigates to /equipment/new

## Onboarding banner verification

1. Team with 1-2 equipment items:
   - Coach sees gradient banner above list
   - Banner links to add more equipment
   - Athlete does not see banner

2. Team with 3+ equipment items:
   - Banner is hidden for everyone

## Consistency check

1. Compare empty state styling with roster page
2. Both should have same container, icon size, text styling
3. Both use EmptyState component
</verification>

<success_criteria>
- Equipment page shows EmptyState when equipment.length === 0
- Empty state has appropriate icon and messaging
- Coach sees CTA button, athlete does not
- Usage summary hidden when no equipment
- Optional onboarding banner for sparse inventory (1-2 items)
</success_criteria>

<output>
After completion, create `.planning/phases/28-onboarding-flow-testing/28-04-SUMMARY.md`
</output>
