---
phase: 22-practice-flow-redesign
plan: 10
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/(dashboard)/[teamSlug]/practices/page.tsx
  - src/components/practices/practice-list-client.tsx
  - src/components/calendar/unified-calendar.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Single practices page with calendar and list views"
    - "View toggle switches between calendar and list"
    - "All bulk operations available regardless of view"
  artifacts:
    - path: "src/app/(dashboard)/[teamSlug]/practices/page.tsx"
      provides: "Consolidated practices page with view toggle"
      contains: "viewMode"
    - path: "src/components/practices/practice-list-client.tsx"
      provides: "Enhanced list with view toggle support"
  key_links:
    - from: "src/app/(dashboard)/[teamSlug]/practices/page.tsx"
      to: "UnifiedCalendar"
      via: "conditional render based on viewMode"
      pattern: "viewMode.*calendar"
---

<objective>
Consolidate the practices and schedule pages into a single unified practices page.

Purpose: GAP-02 identified that /schedule and /practices do overlapping things with inconsistent UX. Users should have one place to manage practices with calendar or list view.

Output: Single practices page with view toggle (calendar/list), all existing features preserved.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-practice-flow-redesign/22-VERIFICATION.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add view toggle to practices page</name>
  <files>
    src/app/(dashboard)/[teamSlug]/practices/page.tsx
    src/components/practices/practice-list-client.tsx
  </files>
  <action>
Modify practices page to support both calendar and list views:

1. Add searchParams handling for `view` parameter (default: 'list')
2. Import UnifiedCalendar from '@/components/calendar/unified-calendar'
3. Add view toggle buttons (List icon | Calendar icon) in header area next to existing buttons
4. Conditionally render:
   - When view=list: Show existing PracticeListClient
   - When view=calendar: Show UnifiedCalendar component
5. Preserve all existing coach actions (New Practice, Create Multiple, selection mode)
6. Pass view parameter to links so view persists

Use CalendarDays and List icons from lucide-react for toggle buttons.
Style toggle as pill buttons similar to season selector pattern.
  </action>
  <verify>
Visit /[teamSlug]/practices - default shows list view
Click calendar toggle - URL changes to ?view=calendar, shows calendar
Click list toggle - URL changes to ?view=list, shows list
All existing buttons and features still work
  </verify>
  <done>
Practices page supports both list and calendar views with persistent toggle.
  </done>
</task>

<task type="auto">
  <name>Task 2: Redirect schedule page to practices</name>
  <files>
    src/app/(dashboard)/[teamSlug]/schedule/page.tsx
  </files>
  <action>
Replace schedule page content with a redirect to practices page with calendar view:

1. Import { redirect } from 'next/navigation'
2. Replace entire component body with: redirect(`/${teamSlug}/practices?view=calendar`)
3. Keep the params handling for teamSlug extraction

This preserves any existing bookmarks/links to /schedule while consolidating to single page.

Do NOT delete the file - just redirect. This maintains backward compatibility.
  </action>
  <verify>
Visit /[teamSlug]/schedule - automatically redirects to /[teamSlug]/practices?view=calendar
Calendar view displays correctly after redirect
  </verify>
  <done>
Schedule page redirects to practices with calendar view. Users with old bookmarks are seamlessly redirected.
  </done>
</task>

</tasks>

<verification>
- [ ] TypeScript compiles without errors
- [ ] Practices page has working view toggle
- [ ] Calendar view shows UnifiedCalendar with full functionality
- [ ] List view shows PracticeListClient with selection mode
- [ ] Schedule page redirects to practices?view=calendar
- [ ] All coach actions (New, Bulk, Delete) work in both views
</verification>

<success_criteria>
Single unified practices page with calendar/list toggle. Schedule page redirects to practices. No functionality lost from either original page.
</success_criteria>

<output>
After completion, create `.planning/phases/22-practice-flow-redesign/22-10-SUMMARY.md`
</output>
