@import "tailwindcss";
@import "tw-animate-css";

:root {
  /* Default to dark theme */
  --background: #0a0a0a;
  --foreground: #ededed;

  /* Team colors (set dynamically) */
  --team-primary: #10b981;
  --team-secondary: #6ee7b7;

  /* Zinc palette for dark */
  --surface-1: #18181b;
  --surface-2: #27272a;
  --surface-3: #3f3f46;
  --border: #3f3f46;
  --border-subtle: #27272a;
  --text-primary: #fafafa;
  --text-secondary: #a1a1aa;
  --text-muted: #71717a;
}

.light {
  --background: #fafafa;
  --foreground: #18181b;

  /* Zinc palette for light */
  --surface-1: #ffffff;
  --surface-2: #f4f4f5;
  --surface-3: #e4e4e7;
  --border: #d4d4d8;
  --border-subtle: #e4e4e7;
  --text-primary: #18181b;
  --text-secondary: #52525b;
  --text-muted: #71717a;
}

.dark {
  --background: #0a0a0a;
  --foreground: #ededed;

  --surface-1: #18181b;
  --surface-2: #27272a;
  --surface-3: #3f3f46;
  --border: #3f3f46;
  --border-subtle: #27272a;
  --text-primary: #fafafa;
  --text-secondary: #a1a1aa;
  --text-muted: #71717a;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* shadcn/ui component variables */
  --color-card: var(--surface-2);
  --color-card-foreground: var(--text-primary);
  --color-popover: var(--surface-2);
  --color-popover-foreground: var(--text-primary);
  --color-primary: var(--team-primary);
  --color-primary-foreground: #ffffff;
  --color-secondary: var(--surface-3);
  --color-secondary-foreground: var(--text-primary);
  --color-muted: var(--surface-3);
  --color-muted-foreground: var(--text-muted);
  --color-accent: var(--surface-3);
  --color-accent-foreground: var(--text-primary);
  --color-destructive: oklch(0.55 0.22 25);
  --color-destructive-foreground: #ffffff;
  --color-border: var(--border);
  --color-input: var(--border);
  --color-ring: var(--team-primary);

  /* Border radius */
  --radius: 0.5rem;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Team color utilities */
.team-primary-bg {
  background-color: var(--team-primary);
}

.team-primary-text {
  color: var(--team-primary);
}

.team-primary-border {
  border-color: var(--team-primary);
}

.team-secondary-bg {
  background-color: var(--team-secondary);
}

.team-secondary-text {
  color: var(--team-secondary);
}

/* Theme-aware component styles */
.theme-surface {
  background-color: var(--surface-1);
}

.theme-surface-2 {
  background-color: var(--surface-2);
}

.theme-surface-3 {
  background-color: var(--surface-3);
}

.theme-border {
  border-color: var(--border);
}

.theme-border-subtle {
  border-color: var(--border-subtle);
}

.theme-text {
  color: var(--text-primary);
}

.theme-text-secondary {
  color: var(--text-secondary);
}

.theme-text-muted {
  color: var(--text-muted);
}

/* Dark mode form inputs */
input[type="date"],
input[type="time"],
input[type="datetime-local"] {
  color-scheme: dark;
}

input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator,
input[type="datetime-local"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
  cursor: pointer;
}

/* Select styling for dark mode */
select {
  color-scheme: dark;
}

/* Mobile touch targets - WCAG 2.5.5 compliance */
@media (max-width: 768px) {
  /* Buttons */
  button,
  [role="button"],
  .btn {
    min-height: 44px;
    min-width: 44px;
  }

  /* Form inputs */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  input[type="date"],
  input[type="time"],
  input[type="datetime-local"],
  select,
  textarea {
    min-height: 44px;
  }

  /* Icon-only buttons (like theme toggle) */
  button:has(> svg:only-child),
  [role="button"]:has(> svg:only-child) {
    width: 44px;
    height: 44px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Ensure links in navigation have adequate tap targets */
  nav a,
  header a {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
  }
}

/* =============================================================================
   Mobile PWA Utilities
   ============================================================================= */

/* Safe area insets for notched devices (iPhone X+) */
.safe-area-inset-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Prevent pull-to-refresh on PWA (optional, can cause issues) */
.no-overscroll {
  overscroll-behavior: none;
}

/* Mobile viewport height fix (100vh issues on mobile browsers) */
.min-h-screen-mobile {
  min-height: 100vh;
  min-height: 100dvh;
}

/* Touch manipulation for swipeable elements */
.touch-pan-y {
  touch-action: pan-y;
}

.touch-pan-x {
  touch-action: pan-x;
}

/* Mobile-friendly focus styles */
@media (max-width: 767px) {
  /* Remove tap highlight on mobile */
  button, a, [role="button"] {
    -webkit-tap-highlight-color: transparent;
  }

  /* Ensure dialogs and drawers respect safe areas */
  [data-radix-popper-content-wrapper] {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
